<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="wap-font-scale" content="no">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="HandheldFriendly" content="true">
<meta name="Description" content="">
<meta name="Keywords" content="">
<title>业务员请佣</title>
</head>

<style>

table,table tr td{
	border:1px solid #0094ff;
}

table{
	width:100%;
	max-height:25px;
	line-height:25px;
	text-align:center;
	border-collapse:collapse; 
}

#beizhu{
	margin-top:20px;
	font-size:17px;
	color:#F51818;
	margin-bottom:10px;
} 

</style>

<body>
	<div>
	<h3 style="text-align:center;">鲁能公馆业务员请佣--项目上的佣金明细</h3>
	</div>
	
	<div id="beizhu"> 
	该项目的请佣金额为:50万,实际到账为:30万。 
	<div style="float:right;"> 
	<input type="button" value="配置佣点和等级" onclick="getYong()"/> 
	</div> 
	</div>
	
	<table id="salerTable">
			<tr>
				<td colspan="17">业务员佣金明细表</td>
			</tr>
			<tr>
				<td style="width:40px;">序号</td>
				<td style="width:120px;">合同编号</td>
				<td style="width:70px;">楼栋号</td>
				<td style="width:70px;">室号</td>
				<td style="width:120px;">房屋面积(平米)</td>
				<td style="width:120px;">房屋总价(万)</td>
				<td style="width:120px;">成交时间</td>
				<td style="width:70px;">业主姓名</td>
				<td style="width:120px;">业主手机号</td>
				<td style="width:90px;">业务员姓名</td>
				<td style="width:120px;">业务员手机号</td>
				<td style="width:90px;">业务员等级</td>
				<td style="width:120px;">业务员佣点</td>
				<td style="width:120px;">业务员实际佣点</td>
				<td style="width:70px;">其他款项</td>
				<td style="width:120px;">业务员佣金(元)</td>
				<td style="width:70px;">操作</td>
			</tr>
			<tr class="saler1">
				<td style="width:40px;">1</td>
				<td style="width:120px;">4654zxc</td>
				<td style="width:70px;">1幢</td>
				<td style="width:70px;">102</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">2015-01-02</td>
				<td style="width:70px;">张飞</td>
				<td style="width:120px;">18269795195</td>
				<td style="width:90px;">张三</td>
				<td style="width:120px;">18269795185</td>
				<td style="width:90px;">A级</td>
				<td style="width:120px;">0.7</td>
				<td style="width:120px;">0.76</td>
				<td style="width:70px;">
				<input type="text" id="otherFin1" onfocus="getOther(1)" style="width:50px"/>  
				</td> 
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removeSaler(1)">移除</a>
				</td>  
			</tr>
			<tr class="saler2">
				<td style="width:40px;">2</td>
				<td style="width:120px;">zcx6546</td>
				<td style="width:70px;">1幢</td>
				<td style="width:70px;">201</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">2015-01-05</td>
				<td style="width:70px;">刘备</td>
				<td style="width:120px;">18269795145</td>
				<td style="width:90px;">李四</td>
				<td style="width:120px;">18269795245</td>
				<td style="width:90px;">B级</td>
				<td style="width:120px;">0.7</td>
				<td style="width:120px;">0.75</td>
				<td style="width:70px;">
				<input type="text" id="otherFin2" onfocus="getOther(2)" style="width:50px"/>
				</td>
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removeSaler(2)">移除</a>
				</td>  
			</tr>
			<tr class="saler3">
				<td style="width:40px;">3</td>
				<td style="width:120px;">scsda154</td>
				<td style="width:70px;">1幢</td>
				<td style="width:70px;">303</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">2015-01-07</td>
				<td style="width:70px;">关羽</td>
				<td style="width:120px;">18269795789</td>
				<td style="width:90px;">王五</td>
				<td style="width:120px;">18269795536</td>
				<td style="width:90px;">C级</td>
				<td style="width:120px;">0.7</td>
				<td style="width:120px;">0.74</td>
				<td style="width:70px;">
				<input type="text" id="otherFin3" onfocus="getOther(3)" style="width:50px"/>
				</td>
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removeSaler(3)">移除</a>
				</td>  
			</tr>
			<tr class="saler4">
				<td style="width:40px;">4</td>
				<td style="width:120px;">656zcz</td>
				<td style="width:70px;">1幢</td>
				<td style="width:70px;">503</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">80</td>
				<td style="width:120px;">2015-01-12</td>
				<td style="width:70px;">赵云</td>
				<td style="width:120px;">18269795425</td>
				<td style="width:90px;">赵六</td>
				<td style="width:120px;">1826979234</td>
				<td style="width:90px;">D级</td>
				<td style="width:120px;">0.7</td>
				<td style="width:120px;">0.73</td>
				<td style="width:70px;">
				<input type="text" id="otherFin4" onfocus="getOther(4)" style="width:50px"/>
				</td>
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removeSaler(4)">移除</a>
				</td>  
			</tr>
	</table>
	
	<div style="margin-top:10px">
	<input type="button" value="新增" onclick="addSaler()"/> 
	<input type="button" value="还原" onclick="reductionSaler()"/>    
	</div>
	
	<table style="margin-top:30px" id="manaTable">
			<tr>
				<td colspan="7">项目经理佣金明细表</td>
			</tr>
			<tr>
				<td style="width:40px;">序号</td>
				<td style="width:70px;">项目经理姓名</td>
				<td style="width:70px;">项目经理手机号</td>
				<td style="width:70px;">项目经理佣点</td>
				<td style="width:70px;">其他款项</td>
				<td style="width:120px;">项目经理佣金(元)</td>
				<td style="width:70px;">操作</td>
			</tr>
			<tr class="manager1">
				<td style="width:40px;">1</td>
				<td style="width:70px;">黄三</td>
				<td style="width:70px;">15345678912</td>
				<td style="width:70px;">1.2</td>
				<td style="width:70px;">?
				<input type="text" id="otherFin4" onfocus="getManaOther(1)" style="width:50px"/>
				</td>
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removeManager(1)">移除</a>
				</td>
			</tr>
	</table>
	
	<div style="margin-top:10px">
	<input type="button" value="新增" onclick="addManager()"/>
	<input type="button" value="还原" onclick="reductionMana()"/>   
	</div>
	
	<table style="margin-top:30px" id="direTable">
			<tr>
				<td colspan="7">总监佣金明细表</td>
			</tr>
			<tr>
				<td style="width:40px;">序号</td>
				<td style="width:70px;">总监姓名</td>
				<td style="width:70px;">总监手机号</td>
				<td style="width:70px;">总监佣点</td>
				<td style="width:70px;">其他款项</td>
				<td style="width:120px;">总监佣金(元)</td>
				<td style="width:70px;">操作</td>
			</tr>
			<tr class="director1">
				<td style="width:40px;">1</td>
				<td style="width:70px;">马三</td>
				<td style="width:70px;">14567894231</td>
				<td style="width:70px;">1.5</td>
				<td style="width:70px;">?</td>
				<td style="width:120px;">?</td>
				<td style="width:70px;">
				<a href="javaScript:void(0)" onclick="removedirector(1)">移除</a>
				</td>
			</tr>
	</table>
	
	<div style="margin-top:10px">
	<input type="button" value="新增" onclick="addDirector()"/>
	<input type="button" value="还原" onclick="reductionDir()"/>   
	</div>
	
	<div style="margin-top:50px;margin-left:50%">
		<a type="button" href="projectList.html" id="Commission" name="Commission"/> 发起请佣  </a>
	</div>
	
	<div style="display:none;margin-top:30px" id="otherFinance">
		<table id="otherTable">
			<tr>
			<td colspan="5">奖励和扣款信息</td>
			</tr>
			<tr>
				<td>序号</td>
				<td>扣款(元)</td>
				<td>扣款备注</td>
				<td>奖励(元)</td>
				<td>奖励备注</td>
			</tr>
			<tr class="otherTr1">
				<td>1</td>
				<td>
				<input type="text" style="width:100px"/> 
				</td>
				<td>
				<input type="text" style="width:100px"/>
				</td>
				<td>
				<input type="text" style="width:100px"/>
				</td>
				<td>
				<input type="text" style="width:100px"/>
				</td>
			</tr>
		</table>
		
		<div style="margin-top:10px">
		<input type="button" value="新增" onclick="addOtherTa()"/>
		<input type="button" value="确定" onclick="addOtherFin()"/>
		</div>
	</div>	 
		
</body>

<script type="text/javascript" src="../js/jquery-1.10.1.min.js"></script>
  
<script type="text/javascript">
	var salerNum= new Array();
	//移除业务员  
	function removeSaler(num){
		$(".saler"+num).css("display","none");
		salerNum.push(num);
	}
	
	//还原业务员  
	function reductionSaler(){
		 for(var i=0;i<salerNum.length;i++){
			 $(".saler"+salerNum[i]).show();
		} 
	}
	
	var salerHtml="";
	//新增业务员
	function addSaler(){
		var yongdian=$(".manager1").find("td:eq(3)").text(); //请佣佣金
		var rows=document.getElementById("salerTable").rows.length - 1; //表单行数 
		
		salerHtml+="<tr class=saler"+rows+">"//
	    		 +"<td style='width:40px;text-align:center;'>"+rows+"</td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    	     +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:90px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:90px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'>"+yongdian+"</td>"//
	    		 +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><a href='javaScript:void(0)' onclick='removeSaler("+rows+")'>移除</a></td>"//
	    		 +"</tr>" 
	    		 
	     $("#salerTable").append(salerHtml);	//添加表单 	 
		 salerHtml="";
		}
	
	//移除经理 
	var ManaNum= new Array();
	function removeManager(num){
		$(".manager"+num).css("display","none");
		ManaNum.push(num);
	}
	
	var ManaHtml="";
	//新增经理 
	function addManager(){
		var yongdian=$(".manager1").find("td:eq(3)").text(); //请佣佣金
		if(yongdian ==null){
			yongdian=1.2;
		}
		var rows=document.getElementById("manaTable").rows.length - 1; //表单行数 
		
		ManaHtml+="<tr class=manager"+rows+">"//
	    		 +"<td style='width:40px;text-align:center;'>"+rows+"</td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    	     +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'>"+yongdian+"</td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><a href='javaScript:void(0)' onclick='removeManager("+rows+")'>移除</a></td>"//
	    		 +"</tr>" 
	    		 
	    $("#manaTable").append(ManaHtml);	//添加表单 	 
	    ManaHtml="";
		}
	
	//还原经理 
	function reductionMana(){
		 for(var i=0;i<ManaNum.length;i++){
			 $(".manager"+ManaNum[i]).show();
		} 
	}
	
	//移除总监 
	var direNum= new Array();
	function removedirector(num){
		$(".director"+num).css("display","none");
		direNum.push(num);
	}
	
	var direHtml="";
	//新增总监 
	function addDirector(){
		var yongdian=$(".director1").find("td:eq(3)").text(); //请佣佣金
		if(yongdian ==null){
			yongdian=1.5;
		}
		var rows=document.getElementById("direTable").rows.length - 1; //表单行数 
		
		direHtml+="<tr class=director"+rows+">"//
	    		 +"<td style='width:40px;text-align:center;'>"+rows+"</td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    	     +"<td style='width:70px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'>"+yongdian+"</td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:120px;text-align:center;'><input type='text' style='width:50px'/></td>"//
	    		 +"<td style='width:70px;text-align:center;'><a href='javaScript:void(0)' onclick='removedirector("+rows+")'>移除</a></td>"//
	    		 +"</tr>" 
	    		 
	    $("#direTable").append(direHtml);	//添加表单 	 
	    direHtml="";
		}
	
	//还原总监 
	function reductionDir(){
		 for(var i=0;i<direNum.length;i++){
			 $(".director"+direNum[i]).show();
		} 
	}
	
	//配置佣金点数和等级
	function getYong(){
		window.location.href="commiPoint.html";
	}
	
	
	var otherFinNum=0;
	//其他款项
	function getOther(num){
		$("#otherFinance").show();
		otherFinNum=num;
		
	}
	
	function addOtherFin(){
		var rows=document.getElementById("otherTable").rows.length - 2; //其他款项表单行数  
		
		var kcount=0; //总扣款
		var jcount=0; //总奖励 
		for(var i=1;i<=rows;i++){
			var kFinance=$(".otherTr"+i).find("td:eq(1)").find("input:text").val();
			var jFinance=$(".otherTr"+i).find("td:eq(3)").find("input:text").val();
			
			kcount=Number(kcount) + Number(kFinance);
			jcount=Number(jcount) + Number(jFinance);
		}
		
		var str="现有佣金加上"+kcount+"元,扣掉"+jcount+"元";  
		 
		$(".saler"+otherFinNum).find("td:eq(14)").find("input:text").val(str); //其他款项
		var yongdain=$(".saler"+otherFinNum).find("td:eq(13)").text();	//佣点
		
		var salerNum=300000 * Number(yongdain) * 0.01 - Number(kcount) + Number(jcount);
		$(".saler"+otherFinNum).find("td:eq(15)").text(salerNum); //业务员佣金 
		
		$("#otherFinance").css("display","none");
		
		if(rows > 1){
			for(var i=rows;i>1;i--){
				$(".otherTr"+i).remove();
			}
			$(".otherTr1").find("td:eq(1)").find("input:text").val("");
			$(".otherTr1").find("td:eq(2)").find("input:text").val("");
			$(".otherTr1").find("td:eq(3)").find("input:text").val("");
			$(".otherTr1").find("td:eq(4)").find("input:text").val("");
		}else{
			$(".otherTr1").find("td:eq(1)").find("input:text").val("");
			$(".otherTr1").find("td:eq(2)").find("input:text").val("");
			$(".otherTr1").find("td:eq(3)").find("input:text").val("");
			$(".otherTr1").find("td:eq(4)").find("input:text").val("");
		}
	}
	
	
	var otherHtml="";
	//新增其他款项
	function addOtherTa(){
		var rows=document.getElementById("otherTable").rows.length - 1; //表单行数 
		
		otherHtml+="<tr class=otherTr"+rows+">"//
		 		+"<td style='width:40px;text-align:center;'>"+rows+"</td>"//
		 		+"<td style='width:120px;text-align:center;'><input type='text' style='width:100px'/></td>"//
	     		+"<td style='width:70px;text-align:center;'><input type='text' style='width:100px'/></td>"//
		 		+"<td style='width:120px;text-align:center;'><input type='text' style='width:100px'/></td>"//
		 		+"<td style='width:120px;text-align:center;'><input type='text' style='width:100px'/></td>"//
		 		+"</tr>" 
		 
		$("#otherTable").append(otherHtml);	//添加表单 	 
		otherHtml="";
	}
	
</script>

</html>